# Load the scripting addition                                             
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

# General Settings
yabai -m config layout bsp  # Use bsp layout by default   
yabai -m config window_gap 4  # Set a gap between windows
yabai -m config top_padding 2   
yabai -m config bottom_padding 2
yabai -m config left_padding 2  
yabai -m config right_padding 2
yabai -m config mouse_follows_focus on  # Mouse follows window focus
yabai -m config focus_follows_mouse autoraise  # Windows gain focus when hovering

# Window Behavior
yabai -m config window_shadow off
yabai -m config window_opacity on
yabai -m config active_window_opacity 1.0
yabai -m config normal_window_opacity 0.9
yabai -m config split_ratio 0.5

# Window Border
yabai -m config active_window_border_color 0xff7755ff
yabai -m config normal_window_border_color 0xff444444
yabai -m config window_border_width 2

# Fullscreen behavior
yabai -m config window_topmost off

# Floating Window Settings
yabai -m rule --add title='Settings$' manage=off
yabai -m rule --add app="^System Preferences$" manage=off
yabai -m rule --add app="^System Settings$" manage=off
yabai -m rule --add app="^System Information$" manage=off
yabai -m rule --add title="^Settings$" manage=off
yabai -m rule --add title="^Preferences$" manage=off
yabai -m rule --add title="^Digital Colour Meter$" manage=off
yabai -m rule --add title="^General.*" manage=off